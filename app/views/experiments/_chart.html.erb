
<link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.4.3.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.4.3.min.js"></script>

<div id="experiment_chart" style="height: 250px;"></div>

<script>
new Morris.Line({
  // ID of the element in which to draw the chart.
  element: 'experiment_chart',
  // Chart data records -- each entry in this array corresponds to a point on
  // the chart.
  data: [
  <% @chart_data.each do |time, values| %>
    { time: '<%== j time.to_formatted_s(:db) %>',
    	<% values.each do |device_id, ppm| %>
    		id_num_<%= device_id.to_s %>: <%= ppm %>,
    	<% end %>
    },
  <% end %>
  ],
  // The name of the data record attribute that contains x-values.
  xkey: 'time',
  //xLabels: "second",
  //parse_time: false,
  // A list of names of data record attributes that contain y-values.
  ykeys: <%== @chart_ykeys %>,
  // Labels for the ykeys -- will be displayed when you hover over the
  // chart.
  labels: <%== @chart_labels.keys.to_json %>,

  ymin: 0,
});

</script>